YUI.add("aui-toggler-delegate",function(e,t){var n=e.Lang,r=n.isBoolean,i=n.isObject,s=n.isString,o=e.Array,u=e.config.doc,a=e.Toggler,f="-",l=".",c="",h=" ",p="animated",d="click",v="closeAllOnExpand",m="collapsed",g="container",y="content",b="cubic-bezier",w="expanded",E="firstChild",S="header",x="keydown",T="linear",N="toggler",C="toggler:animatingChange",k="toggler-delegate",L="transition",A="wrapper",O=e.getClassName,M=O(N,y,A),_=O(N,S,m),D=O(N,S,w),P=e.Component.create({NAME:k,ATTRS:{animated:{validator:r,value:!1,writeOnce:!0},closeAllOnExpand:{validator:r,value:!1},container:{setter:e.one,value:u},content:{validator:s},expanded:{validator:r,value:!0},header:{validator:s},transition:{validator:i,value:{duration:.4,easing:b}}},EXTENDS:e.Base,prototype:{items:null,initializer:function(){var e=this;e.bindUI(),e.renderUI()},renderUI:function(){var e=this;e.get(v)&&(e.items=[],e.get(g).all(e.get(S)).each(function(t){e.items.push(e._create(t))}))},bindUI:function(){var t=this,n=t.get(g),r=t.get(S);t.on(C,e.bind(t._onAnimatingChange,t)),n.delegate([d,x],e.bind(t.headerEventHandler,t),r)},findContentNode:function(e){var t=this,n=t.get(y),r=e.next(n)||e.one(n);if(!r){var i=e.next(l+M);i&&(r=i.get(E))}return r},headerEventHandler:function(e){var t=this;if(t.animating)return!1;var n=e.currentTarget,r=n.getData(N)||t._create(n);a.headerEventHandler(e,r)&&t.get(v)&&o.each(t.items,function(e,t,n){e!==r&&e.get(w)&&e.collapse()})},_create:function(e){var t=this,n=t.get(w);e.hasClass(D)?n=!0:e.hasClass(_)&&(n=!1);var r=new a({animated:t.get(p),bindDOMEvents:!1,bubbleTargets:[t],content:t.findContentNode(e),expanded:n,header:e,transition:t.get(L)});return r},_onAnimatingChange:function(e){var t=this;t.animating=e.newVal}}});e.TogglerDelegate=P},"2.0.0pr5",{requires:["node-event-delegate","aui-toggler-base"]});
