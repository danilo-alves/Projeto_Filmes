YUI.add("aui-modal",function(e,t){var n=e.Lang,r=e.WidgetStdMod,i="ownerDocument",s=e.getClassName,o=".",u="",a=" ",f="br",l="click",c="destroyOnHide",h="draggable",p="fillHeight",d="height",v="modal",m="mousemove",g="resizable",y="visibleChange",b="width",w=s("modal-body"),E=s("modal-footer"),S=s("modal-header");e.Modal=e.Base.create(v,e.Widget,[e.WidgetPosition,e.WidgetStdMod,e.WidgetAutohide,e.WidgetToolbars,e.WidgetModality,e.WidgetPositionAlign,e.WidgetPositionConstrain,e.WidgetStack],{initializer:function(){var t=this;e.after(t._afterFillHeight,t,p),t.after("resize:end",e.bind(t._syncResizeDimensions,t)),t.after(y,t._afterVisibleChange),t.once([l,m],t._onUserInitInteraction)},_addBubbleTargets:function(t){var r=this;return n.isObject(t)||(t={}),e.mix(t,{bubbleTargets:r})},_afterFillHeight:function(e){var t=this;t._fillMaxHeight(t.get(d))},_afterVisibleChange:function(e){var t=this;!e.newVal&&t.get(c)&&t.destroy()},_fillMaxHeight:function(e){var t=this,n=t.get(p),r=t.getStdModNode(n,!0);r&&r.setStyle("maxHeight",e)},_getStdModTemplate:function(t){return e.Node.create(e.Modal.TEMPLATES[t],this._stdModNode.get(i))},_beforeResizeCorrectDimensions:function(t){var n=this;if(n.resize.proxy)return new e.Do.Prevent},_onUserInitInteraction:function(){var t=this,n=t.get(h),r=t.get(g);n&&t.plug(e.Plugin.Drag,t._addBubbleTargets(n)),r&&(t.plug(e.Plugin.Resize,t._addBubbleTargets(r)),e.before(t._beforeResizeCorrectDimensions,t.resize,"_correctDimensions",t))},_syncResizeDimensions:function(e){var t=this,n=e.info;t.set(b,n.offsetWidth),t.set(d,n.offsetHeight)}},{CSS_PREFIX:s(v),ATTRS:{bodyContent:{value:u},destroyOnHide:{validator:n.isBoolean,value:!1},draggable:{value:{handles:[o+S],plugins:[{fn:e.Plugin.DDConstrained}]},writeOnce:!0},resizable:{value:{handles:f},writeOnce:!0},toolbars:{valueFn:function(){var e=this;return{header:[{cssClass:"aui-close",label:"\u00d7",after:{click:function(){e.hide()}},render:!0}]}}}},TEMPLATES:{header:'<div class="'+r.SECTION_CLASS_NAMES[r.HEADER]+a+S+'"></div>',body:'<div class="'+r.SECTION_CLASS_NAMES[r.BODY]+a+w+'"></div>',footer:'<div class="'+r.SECTION_CLASS_NAMES[r.FOOTER]+a+E+'"></div>'}})},"2.0.0pr5",{requires:["widget","widget-autohide","widget-buttons","widget-modality","widget-position","widget-position-align","widget-position-constrain","widget-stack","widget-stdmod","dd-plugin","dd-constrain","resize-plugin","aui-classnamemanager","aui-widget-toolbars"]});
