YUI.add("aui-toggler-base",function(e,t){var n=e.Lang,r=n.isBoolean,i=n.isObject,s=n.isUndefined,o=n.toInt,u="-",a=".",f="",l="px",c=" ",h="animated",p="animating",d="bindDOMEvents",v="click",m="collapsed",g="content",y="cubic-bezier",b="down",w="enter",E="esc",S="expanded",x="expandedChange",T="getBoundingClientRect",N="gutter",C="header",k="helper",L="keydown",A="left",O="linear",M="marginTop",_="minus",D="num_minus",P="num_plus",H="parentNode",B="plus",j="right",c="space",F="toggler",I="transition",q="transitionEnd",R="transitionStart",U="up",z="wrapper",W=e.getClassName,X=W(F,g),V=W(F,g,m),$=W(F,g,S),J=W(F,g,z),K=W(F,C),Q=W(F,C,m),G=W(F,C,S),Y={"false":V,"true":$},Z={"false":Q,"true":G},et='<div class="'+J+'"></div>',tt=e.Component.create({NAME:F,ATTRS:{animated:{validator:r,value:!1,writeOnce:!0},animating:{validator:r,value:!1},bindDOMEvents:{validator:r,value:!0,writeOnce:!0},content:{setter:e.one},expanded:{validator:r,value:!0},header:{setter:e.one},transition:{validator:i,value:{duration:.4,easing:y}}},EXTENDS:e.Base,headerEventHandler:function(e,t){if(e.type===v||e.isKey(w)||e.isKey(c))return e.preventDefault(),t.toggle();if(e.isKey(b)||e.isKey(j)||e.isKey(P))return e.preventDefault(),t.expand();if(e.isKey(U)||e.isKey(A)||e.isKey(E)||e.isKey(D))return e.preventDefault(),t.collapse()},prototype:{initializer:function(){var e=this;e.bindUI(),e.syncUI(),e._uiSetExpanded(e.get(S))},bindUI:function(){var t=this,n=t.get(C);n.setData(F,t),t.on(x,e.bind(t._onExpandedChange,t)),t.get(d)&&n.on([v,L],e.rbind(tt.headerEventHandler,null,t))},syncUI:function(){var e=this;e.get(g).addClass(X),e.get(C).addClass(K)},animate:function(t,n){var r=this;r._uiSetExpanded(!0);var i=e.merge(t,r.get(I));r.get(g).transition(i,e.bind(n,r))},collapse:function(){var e=this;return e.toggle(!1)},expand:function(){var e=this;return e.toggle(!0)},getContentHeight:function(){var e=this,t=e.get(g),n=e.get(S),r;n||e._uiSetExpanded(!0);if(t.hasMethod(T)){var i=t.invoke(T);i&&(r=i.bottom-i.top)}else r=t.get(OFFSET_HEIGHT);return n||e._uiSetExpanded(!1),r},toggle:function(e){var t=this;s(e)&&(e=!t.get(S));if(t.get(h)){if(t.get(p))return e;var n=t.get(g),r=t.getContentHeight(),i=o(n.getStyle(M));t.wrapped||(n.wrap(et),e&&(i=-(r+i),n.setStyle(M,i)),t.wrapped=!0),t.set(p,!0),t.animate({marginTop:-(r+i)+l},function(){t.set(p,!1),t.set(S,e)})}else t.set(S,e);return e},_onExpandedChange:function(e){var t=this;t._uiSetExpanded(e.newVal)},_uiSetExpanded:function(e){var t=this;t.get(g).replaceClass(Y[!e],Y[e]),t.get(C).replaceClass(Z[!e],Z[e])}}});e.Toggler=tt},"2.0.0pr5",{requires:["transition","aui-node","aui-component"],skinnable:!0});
